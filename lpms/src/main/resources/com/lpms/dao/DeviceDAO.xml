<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lpms.dao.DeviceDAO">
<!--    List<Test> listDevices();-->
    <select id="listDevices" resultType="com.lpms.pojo.monitor.Device">
        select * from device;
    </select>

<!--    Device getDeviceByDevId(@Param("devId")Integer devId);-->
    <select id="getDeviceByDevId" resultType="com.lpms.pojo.monitor.Device">
        select * from device where dev_id=#{devId};
    </select>

<!--    Device getDeviceByDevName(@Param("devName")String devName);-->
    <select id="getDeviceByDevName" resultType="com.lpms.pojo.monitor.Device">
        select * from device where dev_name=#{devName};
    </select>

<!--    List<Device> listDeviceCanMonStem();-->
    <select id="listDeviceCanMonStem" resultType="com.lpms.pojo.monitor.Device">
        select * from device where dev_can_monitor_stem_growth=1;
    </select>
<!--    List<Device> listDeviceCanMonFruit();-->
    <select id="listDeviceCanMonFruit" resultType="com.lpms.pojo.monitor.Device">
        select * from device where dev_can_monitor_fruit_growth=1;
    </select>
<!--    List<Device> listDeviceCanMonCanopy();-->
    <select id="listDeviceCanMonCanopy" resultType="com.lpms.pojo.monitor.Device">
        select * from device where dev_can_monitor_canopy_temperature=1;
    </select>
<!--    List<Device> listDeviceCanMonLeaf();-->
    <select id="listDeviceCanMonLeaf" resultType="com.lpms.pojo.monitor.Device">
        select * from device where dev_can_monitor_leaf_temperature=1;
    </select>

    
<!--    void insertDevice(Device device);-->
    <insert id="insertDevice">
        insert into device (dev_id, dev_name, dev_can_monitor_stem_growth, dev_can_monitor_fruit_growth,
                            dev_can_monitor_canopy_temperature, dev_can_monitor_leaf_temperature)
        values (null,#{devName},#{devCanMonitorStemGrowth},#{devCanMonitorFruitGrowth},
                #{devCanMonitorCanopyTemperature},#{devCanMonitorLeafTemperature})
    </insert>
    <insert id="insertDevice1">
        insert into device (dev_name, dev_can_monitor_stem_growth, dev_can_monitor_canopy_temperature,dev_can_monitor_leaf_temperature)
        values (#{devName},#{devCanMonitorStemGrowth},#{devCanMonitorCanopyTemperature},#{devCanMonitorLeafTemperature})
    </insert>

    <!--    void deleteDeviceById(@Param("devId")Integer devId);-->
    <delete id="deleteDeviceById">
        delete from device where dev_id=#{devId}
    </delete>

<!--    void deleteDeviceByName(@Param("devName")String devName);-->
    <delete id="deleteDeviceByName">
        delete from device where dev_name=#{devName}
    </delete>


<!--    void updateDevice(Device device);-->
    <update id="updateDevice">
        update device set dev_name=#{devName},dev_can_monitor_stem_growth=#{devCanMonitorFruitGrowth},
                          dev_can_monitor_fruit_growth=#{devCanMonitorFruitGrowth},dev_can_monitor_leaf_temperature=#{devCanMonitorLeafTemperature},
                          dev_can_monitor_canopy_temperature=#{devCanMonitorCanopyTemperature} where dev_id=#{devId}
    </update>

</mapper>
